nanoBragg nanocrystal diffraction simulator - James Holton and Ken Frankel 5-17-17
mosflm convention selected.
DETECTOR_FAST_AXIS 0 0 1
DETECTOR_SLOW_AXIS 0 -1 0
DETECTOR_NORMAL_AXIS 1 0 0
pivoting detector around direct beam spot
DETECTOR_PIX0_VECTOR 0.1 0.0513 -0.0513
XDS incident beam: 0 0 1
auto-selected no interpolation
reading identity.mat
TRACE: Raw matrix values from file:
TRACE:   a_star (raw) = [1, 0, 0]
TRACE:   b_star (raw) = [0, 1, 0]
TRACE:   c_star (raw) = [0, 0, 1]
TRACE:   lambda0 = 6.2 Angstroms
TRACE:   scaling factor = 1e-10/lambda0 = 0.16129
TRACE: After wavelength correction:
TRACE:   a_star = [0.16129, 0, 0] |a_star| = 0.16129
TRACE:   b_star = [0, 0.16129, 0] |b_star| = 0.16129
TRACE:   c_star = [0, 0, 0.16129] |c_star| = 0.16129
TRACE: Computing cross products of reciprocal vectors:
TRACE:   Input vectors for cross products:
TRACE:     a_star = [0.16129, 0, 0]
TRACE:     b_star = [0, 0.16129, 0]
TRACE:     c_star = [0, 0, 0.16129]
TRACE:   Cross product results:
TRACE:     a_star x b_star = [0, 0, 0.0260146]
TRACE:     b_star x c_star = [0.0260146, 0, 0]
TRACE:     c_star x a_star = [0, 0.0260146, 0]
TRACE: Reciprocal cell volume calculation:
TRACE:   V_star = a_star . (b_star x c_star) = 0.0041959
TRACE: Direct-space cell volume: V_cell = 1/V_star = 238.328
TRACE: Before computing real-space vectors:
TRACE:   b_star_cross_c_star = [0.0260146, 0, 0]
TRACE:   c_star_cross_a_star = [0, 0.0260146, 0]
TRACE:   a_star_cross_b_star = [0, 0, 0.0260146]
TRACE:   V_cell = 238.328, V_star = 0.0041959
TRACE: After computing real-space vectors:
TRACE:   a = [6.2, 0, 0] |a| = 6.2
TRACE:   b = [0, 6.2, 0] |b| = 6.2
TRACE:   c = [0, 0, 6.2] |c| = 6.2
TRACE: Re-generating reciprocal vectors from real-space vectors:
TRACE:   Before re-generation: a_star = [0.16129, 0, 0] |a_star| = 0.16129
TRACE:   Before re-generation: b_star = [0, 0.16129, 0] |b_star| = 0.16129
TRACE:   Before re-generation: c_star = [0, 0, 0.16129] |c_star| = 0.16129
TRACE:   Cross products: b_cross_c = [38.44, 0, 0]
TRACE:   Cross products: c_cross_a = [0, 38.44, 0]
TRACE:   Cross products: a_cross_b = [0, 0, 38.44]
TRACE:   After re-generation: a_star = [0.16129, 0, 0] |a_star| = 0.16129
TRACE:   After re-generation: b_star = [0, 0.16129, 0] |b_star| = 0.16129
TRACE:   After re-generation: c_star = [0, 0, 0.16129] |c_star| = 0.16129
Unit Cell: 6.2 6.2 6.2 90 90 90
Recp Cell: 0.16129 0.16129 0.16129 90 90 90
volume = 238.328 A^3
real-space cell vectors (Angstrom):
     a           b           c         
X:  6.20000000  0.00000000  0.00000000
Y:  0.00000000  6.20000000  0.00000000
Z:  0.00000000  0.00000000  6.20000000
reciprocal-space cell vectors (Angstrom^-1):
     a_star      b_star      c_star    
X:  0.16129032  0.00000000  0.00000000
Y:  0.00000000  0.16129032  0.00000000
Z:  0.00000000  0.00000000  0.16129032
TRACE: Converting real-space vectors from Angstroms to meters:
TRACE:   Before conversion: a = [6.2, 0, 0] |a| = 6.2 Angstroms
TRACE:   Before conversion: b = [0, 6.2, 0] |b| = 6.2 Angstroms
TRACE:   Before conversion: c = [0, 0, 6.2] |c| = 6.2 Angstroms
TRACE:   After conversion: a = [6.2e-10, 0, 0] |a| = 6.2e-10 meters
TRACE:   After conversion: b = [0, 6.2e-10, 0] |b| = 6.2e-10 meters
TRACE:   After conversion: c = [0, 0, 6.2e-10] |c| = 6.2e-10 meters
TRACE: Copying vectors to a0, b0, c0 (phi=0 mosaic=0 reference):
TRACE:   a0 = [6.2e-10, 0, 0] |a0| = 6.2e-10 meters
TRACE:   b0 = [0, 6.2e-10, 0] |b0| = 6.2e-10 meters
TRACE:   c0 = [0, 0, 6.2e-10] |c0| = 6.2e-10 meters
TRACE: Copying vectors to ap, bp, cp (phi=0 working copy):
TRACE:   ap = [6.2e-10, 0, 0] |ap| = 6.2e-10 meters
TRACE:   bp = [0, 6.2e-10, 0] |bp| = 6.2e-10 meters
TRACE:   cp = [0, 0, 6.2e-10] |cp| = 6.2e-10 meters
crystal is 0.0031 x 0.0031 x 0.0031 microns
auto-selected 1-fold oversampling
approximate MW = 172.229
reading Fs from Fdump.bin
thick0 = 0 um
phi0 = 0
divergence deviation: 0 0
lambda0 = 6.2e-10
  created a total of 1 sources:
-10 -0 0   1 6.2e-10
  created a total of 1 mosaic domains
  8 initialized hkls (all others =100)
  parallelpiped xtal: 5x5x5 cells
  wave=6.2e-10 meters +/- 0% in 1 steps
  Kahn polarization factor: 0.000000
  incident fluence: 1.25932e+29 photons/m^2
  distance=0.1 detsize=0.1024x0.1024  pixel=0.0001 meters (1024x1024 pixels)
  sensor is 0 m thick in 1 layers with mu= -1
  Xbeam=0.05125 Ybeam=0.05125
  Fbeam=0.0513 Sbeam=0.0513
  Xclose=0.0512 Yclose=0.0512
  Fclose=0.0513 Sclose=0.0513
  DIRECTION_OF_DETECTOR_X-AXIS= 0 0 1
  DIRECTION_OF_DETECTOR_Y-AXIS= 0 -1 0
  DIRECTION_OF_DETECTOR_Z-AXIS= 1 0 0
  INCIDENT_BEAM_DIRECTION= 1 0 0
  spindle ROTATION_AXIS= 0 0 1
  POLARIZATION_PLANE_NORMAL= 0 -1 0
  dials origin= -51.3 51.3 -100
  roi: 0 < x < 1024 && 0 < y < 1024
  hdivrange=0 hdivstep=0  radians
  vdivrange=0 vdivstep=0  radians
  1 divergence steps
  1 sources
  1 mosaic domains over mosaic spread of 0 degrees
  1 phi steps from 0 to 0 degrees
  1x1 pixel oversample steps

  noise image paramters:
  seed: -1754509797
  water droplet size: 0 m
0% done
0% done
1% done
2% done
3% done
4% done
4% done
5% done
6% done
7% done
8% done
TRACE_C: pixel_pos_meters 0.1 0.04125 0.02875
TRACE_C: diffracted_vec 0.89342265524664 0.368536845289239 0.256859013383409
TRACE_C: scattering_vec_A_inv -171898943.15058 594414266.595547 414288731.263563
TRACE_C: hkl_frac -0.10657734475336 0.368536845289239 0.256859013383409
9% done
9% done
14% done
19% done
24% done
29% done
34% done
39% done
44% done
49% done
54% done
59% done
64% done
69% done
74% done
79% done
84% done
89% done
90% done
91% done
92% done
93% done
94% done
94% done
95% done
96% done
97% done
98% done

solid angle subtended by detector = 0.83688 steradian ( 6.65968% sphere)
writing floatimage.bin as 1048576 4-byte floats
max_I = 156.244  at 0.05125 0.05125
mean= 5.59725 rms= 20.5652 rmsd= 19.7888
intfile_scale = 352.014
writing intimage.img as 2-byte integers
pgm_scale = 2.52668
writing image.pgm as 1-byte integers
5870706 photons on noise image (0 overloads)
writing noiseimage.img as 2-byte integers
