Phase M3c: Single-Ï† parity experiment
=====================================

Purpose: Isolate rotation vs accumulation effects by running with phisteps=1, osc=0

Base Command (from plan.md lines 6-12):
---------------------------------------
nanoBragg  -mat A.mat -floatfile img.bin -hkl scaled.hkl  -nonoise  -nointerpolate -oversample 1  -exposure 1  -flux 1e18 -beamsize 1.0  -spindle_axis -1 0 0 \
  -Xbeam 217.742295 -Ybeam 213.907080  -distance 231.274660 -lambda 0.976800 \
  -pixel 0.172 -detpixels_x 2463 -detpixels_y 2527 \
  -odet_vector -0.000088 0.004914 -0.999988 -sdet_vector -0.005998 -0.999970 -0.004913 \
  -fdet_vector 0.999982 -0.005998 -0.000118 \
  -pix0_vector_mm -216.336293 215.205512 -230.200866  -beam_vector 0.00051387949 0.0 -0.99999986 \
  -Na 36  -Nb 47 -Nc 29 -osc 0.1 -phi 0 -phisteps 10 -detector_rotx 0 -detector_roty 0 -detector_rotz 0 -twotheta 0

Modified Command (phisteps=1, osc=0):
-------------------------------------
nanoBragg  -mat A.mat -floatfile img.bin -hkl scaled.hkl  -nonoise  -nointerpolate -oversample 1  -exposure 1  -flux 1e18 -beamsize 1.0  -spindle_axis -1 0 0 \
  -Xbeam 217.742295 -Ybeam 213.907080  -distance 231.274660 -lambda 0.976800 \
  -pixel 0.172 -detpixels_x 2463 -detpixels_y 2527 \
  -odet_vector -0.000088 0.004914 -0.999988 -sdet_vector -0.005998 -0.999970 -0.004913 \
  -fdet_vector 0.999982 -0.005998 -0.000118 \
  -pix0_vector_mm -216.336293 215.205512 -230.200866  -beam_vector 0.00051387949 0.0 -0.99999986 \
  -Na 36  -Nb 47 -Nc 29 -osc 0 -phi 0 -phisteps 1 -detector_rotx 0 -detector_roty 0 -detector_rotz 0 -twotheta 0

C Reference Command:
--------------------
export NB_C_BIN=/home/ollie/Documents/tmp/nanoBragg/golden_suite_generator/nanoBragg
$NB_C_BIN -mat A.mat -floatfile /tmp/c_phistep1.bin -hkl scaled.hkl  -nonoise  -nointerpolate -oversample 1  -exposure 1  -flux 1e18 -beamsize 1.0  -spindle_axis -1 0 0   -Xbeam 217.742295 -Ybeam 213.907080  -distance 231.274660 -lambda 0.976800   -pixel 0.172 -detpixels_x 2463 -detpixels_y 2527   -odet_vector -0.000088 0.004914 -0.999988 -sdet_vector -0.005998 -0.999970 -0.004913   -fdet_vector 0.999982 -0.005998 -0.000118   -pix0_vector_mm -216.336293 215.205512 -230.200866  -beam_vector 0.00051387949 0.0 -0.99999986   -Na 36  -Nb 47 -Nc 29 -osc 0 -phi 0 -phisteps 1 -detector_rotx 0 -detector_roty 0 -detector_rotz 0 -twotheta 0 2>&1 | grep "TRACE_C" > /tmp/c_phistep1_trace.log

PyTorch Command:
----------------
KMP_DUPLICATE_LIB_OK=TRUE python -m nanobrag_torch -mat A.mat -floatfile /tmp/py_phistep1.bin -hkl scaled.hkl  -nonoise  -nointerpolate -oversample 1  -exposure 1  -flux 1e18 -beamsize 1.0  -spindle_axis -1 0 0   -Xbeam 217.742295 -Ybeam 213.907080  -distance 231.274660 -lambda 0.976800   -pixel 0.172 -detpixels_x 2463 -detpixels_y 2527   -odet_vector -0.000088 0.004914 -0.999988 -sdet_vector -0.005998 -0.999970 -0.004913   -fdet_vector 0.999982 -0.005998 -0.000118   -pix0_vector_mm -216.336293 215.205512 -230.200866  -beam_vector 0.00051387949 0.0 -0.99999986   -Na 36  -Nb 47 -Nc 29 -osc 0 -phi 0 -phisteps 1 -detector_rotx 0 -detector_roty 0 -detector_rotz 0 -twotheta 0 2>&1 | grep "TRACE_PY" > /tmp/py_phistep1_trace.log
