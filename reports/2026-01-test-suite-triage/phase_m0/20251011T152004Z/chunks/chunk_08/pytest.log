============================= test session starts ==============================
platform linux -- Python 3.13.5, pytest-8.4.1, pluggy-1.5.0 -- /home/ollie/miniconda3/bin/python3.13
cachedir: .pytest_cache
rootdir: /home/ollie/Documents/tmp/nanoBragg
configfile: pyproject.toml
plugins: anyio-4.9.0
collecting ... collected 117 items

tests/test_at_cli_006.py::test_autoscale_without_scale_flag PASSED       [  0%]
tests/test_at_cli_006.py::test_explicit_scale_flag PASSED                [  1%]
tests/test_at_cli_006.py::test_pgm_without_pgmscale PASSED               [  2%]
tests/test_at_cli_006.py::test_pgm_with_explicit_pgmscale PASSED         [  3%]
tests/test_at_cli_006.py::test_pgm_format_compliance PASSED              [  4%]
tests/test_at_geo_005.py::TestATGEO005CurvedDetector::test_curved_detector_equal_distance PASSED [  5%]
tests/test_at_geo_005.py::TestATGEO005CurvedDetector::test_curved_vs_planar_difference PASSED [  5%]
tests/test_at_geo_005.py::TestATGEO005CurvedDetector::test_small_angle_rotation_consistency PASSED [  6%]
tests/test_at_geo_005.py::TestATGEO005CurvedDetector::test_gradient_flow_curved_detector PASSED [  7%]
tests/test_at_geo_005.py::TestATGEO005CurvedDetector::test_beam_center_affects_curvature PASSED [  8%]
tests/test_at_parallel_004.py::TestAT_PARALLEL_004::test_mosflm_adds_half_pixel_offset PASSED [  9%]
tests/test_at_parallel_004.py::TestAT_PARALLEL_004::test_xds_has_no_pixel_offset PASSED [ 10%]
tests/test_at_parallel_004.py::TestAT_PARALLEL_004::test_peak_position_difference PASSED [ 11%]
tests/test_at_parallel_004.py::TestAT_PARALLEL_004::test_pattern_correlation_when_aligned PASSED [ 11%]
tests/test_at_parallel_004.py::TestAT_PARALLEL_004::test_beam_center_calculation_consistency PASSED [ 12%]
tests/test_at_parallel_014.py::TestATParallel014NoiseRobustness::test_mean_preservation_after_scaling PASSED [ 13%]
tests/test_at_parallel_014.py::TestATParallel014NoiseRobustness::test_peak_centroid_stability PASSED [ 14%]
tests/test_at_parallel_014.py::TestATParallel014NoiseRobustness::test_overload_count_consistency PASSED [ 15%]
tests/test_at_parallel_014.py::TestATParallel014NoiseRobustness::test_noise_statistics PASSED [ 16%]
tests/test_at_parallel_014.py::TestATParallel014NoiseRobustness::test_deterministic_noise_with_seed PASSED [ 17%]
tests/test_at_parallel_025.py::test_maximum_intensity_simple_case SKIPPED [ 17%]
tests/test_at_parallel_025.py::test_maximum_intensity_with_offset SKIPPED [ 18%]
tests/test_at_parallel_025.py::test_maximum_intensity_triclinic SKIPPED  [ 19%]
tests/test_at_perf_006.py::TestATPERF006TensorVectorization::test_no_python_loops_in_core_path PASSED [ 20%]
tests/test_at_perf_006.py::TestATPERF006TensorVectorization::test_profile_tensor_operations_ratio PASSED [ 21%]
tests/test_at_perf_006.py::TestATPERF006TensorVectorization::test_vectorized_speedup PASSED [ 22%]
tests/test_at_perf_006.py::TestATPERF006TensorVectorization::test_tensor_shapes_include_all_dimensions SKIPPED [ 23%]
tests/test_at_perf_006.py::test_oversample_performance_scaling[1] PASSED [ 23%]
tests/test_at_perf_006.py::test_oversample_performance_scaling[2] PASSED [ 24%]
tests/test_at_perf_006.py::test_oversample_performance_scaling[3] PASSED [ 25%]
tests/test_at_perf_006.py::test_oversample_performance_scaling[4] PASSED [ 26%]
tests/test_at_perf_006.py::test_detector_thickness_vectorization PASSED  [ 27%]
tests/test_at_src_001.py::TestAT_SRC_001_SourcefileAndWeighting::test_sourcefile_with_all_columns PASSED [ 28%]
tests/test_at_src_001.py::TestAT_SRC_001_SourcefileAndWeighting::test_sourcefile_with_missing_columns PASSED [ 29%]
tests/test_at_src_001.py::TestAT_SRC_001_SourcefileAndWeighting::test_sourcefile_default_position PASSED [ 29%]
tests/test_at_src_001.py::TestAT_SRC_001_SourcefileAndWeighting::test_multiple_sources_normalization PASSED [ 30%]
tests/test_at_src_001.py::TestAT_SRC_001_SourcefileAndWeighting::test_empty_sourcefile PASSED [ 31%]
tests/test_at_src_001.py::TestAT_SRC_001_SourcefileAndWeighting::test_weighted_sources_integration PASSED [ 32%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_find_c_binary_resolution PASSED [ 33%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_find_py_binary_resolution PASSED [ 34%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_load_float_image PASSED [ 35%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_resample_image PASSED [ 35%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_compute_metrics PASSED [ 36%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_find_peaks PASSED [ 37%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_script_integration PASSED [ 38%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_metrics_with_identical_images PASSED [ 39%]
tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_metrics_with_scaled_images PASSED [ 40%]
tests/test_detector_config.py::TestDetectorConfig::test_default_values PASSED [ 41%]
tests/test_detector_config.py::TestDetectorConfig::test_post_init_defaults PASSED [ 41%]
tests/test_detector_config.py::TestDetectorConfig::test_custom_twotheta_axis PASSED [ 42%]
tests/test_detector_config.py::TestDetectorConfig::test_xds_convention_defaults PASSED [ 43%]
tests/test_detector_config.py::TestDetectorConfig::test_invalid_pixel_counts PASSED [ 44%]
tests/test_detector_config.py::TestDetectorConfig::test_invalid_distance PASSED [ 45%]
tests/test_detector_config.py::TestDetectorConfig::test_invalid_pixel_size PASSED [ 46%]
tests/test_detector_config.py::TestDetectorConfig::test_invalid_oversample PASSED [ 47%]
tests/test_detector_config.py::TestDetectorConfig::test_tensor_parameters PASSED [ 47%]
tests/test_detector_config.py::TestDetectorInitialization::test_default_initialization PASSED [ 48%]
tests/test_detector_config.py::TestDetectorInitialization::test_custom_config_initialization PASSED [ 49%]
tests/test_detector_config.py::TestDetectorInitialization::test_backward_compatibility_check PASSED [ 50%]
tests/test_detector_config.py::TestDetectorInitialization::test_custom_config_not_default PASSED [ 51%]
tests/test_detector_config.py::TestDetectorInitialization::test_basis_vectors_initialization PASSED [ 52%]
tests/test_detector_config.py::TestDetectorInitialization::test_device_and_dtype PASSED [ 52%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-001-detpixels-64] SKIPPED [ 53%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-001-detpixels-128] SKIPPED [ 54%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-001-detpixels-256] SKIPPED [ 55%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-001-detpixels-512] SKIPPED [ 56%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-002-pixel-0.05mm] SKIPPED [ 57%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-002-pixel-0.1mm] SKIPPED [ 58%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-002-pixel-0.2mm] SKIPPED [ 58%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-002-pixel-0.4mm] SKIPPED [ 59%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-003-beam-20-20-detpixels-256] SKIPPED [ 60%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-003-beam-30-40-detpixels-256] SKIPPED [ 61%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-003-beam-45-25-detpixels-512] SKIPPED [ 62%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-003-beam-60-60-detpixels-1024] SKIPPED [ 63%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-004-mosflm] SKIPPED [ 64%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-004-xds] SKIPPED [ 64%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-005-mosflm-xbeam-ybeam-beam-pivot] SKIPPED [ 65%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-005-xds-xbeam-ybeam-sample-pivot] SKIPPED [ 66%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-005-mosflm-close-distance-sample-pivot] SKIPPED [ 67%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-005-xds-close-distance-sample-pivot] SKIPPED [ 68%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-006-dist-50mm-lambda-1.0] SKIPPED [ 69%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-006-dist-100mm-lambda-1.5] SKIPPED [ 70%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-006-dist-200mm-lambda-2.0] SKIPPED [ 70%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-007-rot-0-0-0] SKIPPED [ 71%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-007-rot-5-3-2] SKIPPED [ 72%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-007-rot-10-5-3] SKIPPED [ 73%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-012-simple_cubic] SKIPPED [ 74%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-011-unpolarized] SKIPPED [ 75%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-011-polarized] SKIPPED [ 76%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-020-comprehensive] SKIPPED [ 76%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-021-single_step_phi] SKIPPED [ 77%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-021-multi_step_phi] SKIPPED [ 78%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-022-single_step_phi] SKIPPED [ 79%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-022-multi_step_phi] SKIPPED [ 80%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-cubic-misset-0-0-0] SKIPPED [ 81%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-cubic-misset-10p5-0-0] SKIPPED [ 82%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-cubic-misset-0-10p25-0] SKIPPED [ 82%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-cubic-misset-0-0-9p75] SKIPPED [ 83%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-cubic-misset-15-20p5-30p25] SKIPPED [ 84%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-triclinic-misset-0-0-0] SKIPPED [ 85%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-triclinic-misset-10p5-0-0] SKIPPED [ 86%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-triclinic-misset-0-10p25-0] SKIPPED [ 87%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-triclinic-misset-0-0-9p75] SKIPPED [ 88%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-023-triclinic-misset-15-20p5-30p25] SKIPPED [ 88%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-024-random-misset-seed-12345] SKIPPED [ 89%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-024-random-misset-seed-54321] SKIPPED [ 90%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-010-point-pixel-distance-50mm] SKIPPED [ 91%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-010-point-pixel-distance-100mm] SKIPPED [ 92%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-010-point-pixel-distance-200mm] SKIPPED [ 93%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-010-point-pixel-distance-400mm] SKIPPED [ 94%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-010-obliquity-distance-100mm-tilt-0deg] SKIPPED [ 94%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-010-obliquity-distance-100mm-tilt-10deg] SKIPPED [ 95%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-010-obliquity-distance-100mm-tilt-20deg] SKIPPED [ 96%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-010-obliquity-distance-100mm-tilt-30deg] SKIPPED [ 97%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-016-extreme-tiny] SKIPPED [ 98%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-016-extreme-large-cell] SKIPPED [ 99%]
tests/test_parity_matrix.py::test_parity_case[AT-PARALLEL-016-extreme-long-distance] SKIPPED [100%]

=============================== warnings summary ===============================
tests/test_at_src_001.py::TestAT_SRC_001_SourcefileAndWeighting::test_sourcefile_with_all_columns
  /home/ollie/Documents/tmp/nanoBragg/tests/test_at_src_001.py:51: UserWarning: Sourcefile wavelength column differs from CLI -lambda value. Per spec-a-core.md:150-151, sourcefile wavelengths are ignored. All sources will use CLI wavelength 6.200000e-10 m.
    directions, weights, wavelengths = read_sourcefile(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
- generated xml file: /home/ollie/Documents/tmp/nanoBragg/reports/2026-01-test-suite-triage/phase_m0/20251011T152004Z/chunks/chunk_08/pytest.xml -
============================= slowest 5 durations ==============================
15.44s call     tests/test_at_tools_001.py::TestAT_TOOLS_001_DualRunnerComparison::test_script_integration
8.49s call     tests/test_at_cli_006.py::test_explicit_scale_flag
8.26s call     tests/test_at_cli_006.py::test_pgm_without_pgmscale
7.16s call     tests/test_at_src_001.py::TestAT_SRC_001_SourcefileAndWeighting::test_weighted_sources_integration
7.03s call     tests/test_at_parallel_004.py::TestAT_PARALLEL_004::test_peak_position_difference
============= 58 passed, 59 skipped, 1 warning in 79.80s (0:01:19) =============
