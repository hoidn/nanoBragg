# SOURCE-WEIGHT-001 Phase B Reproduction Commands
# Timestamp: 20251009T083515Z
# Location: /home/ollie/Documents/tmp/nanoBragg

# C Reference Execution
./golden_suite_generator/nanoBragg \
  -cell 100 100 100 90 90 90 \
  -default_F 100 \
  -floatfile reports/2025-11-source-weights/phase_b/20251009T083515Z/c.bin \
  -sourcefile reports/2025-11-source-weights/phase_a/20251009T071821Z/fixtures/two_sources.txt \
  -distance 231.274660 \
  -lambda 0.9768 \
  -pixel 0.172 \
  -detpixels_x 256 \
  -detpixels_y 256 \
  -nonoise \
  -nointerpolate \
  > reports/2025-11-source-weights/phase_b/20251009T083515Z/c_stdout.log 2>&1

# PyTorch Execution
KMP_DUPLICATE_LIB_OK=TRUE python -m nanobrag_torch \
  -cell 100 100 100 90 90 90 \
  -default_F 100 \
  -floatfile reports/2025-11-source-weights/phase_b/20251009T083515Z/py.bin \
  -sourcefile reports/2025-11-source-weights/phase_a/20251009T071821Z/fixtures/two_sources.txt \
  -distance 231.274660 \
  -lambda 0.9768 \
  -pixel 0.172 \
  -detpixels_x 256 \
  -detpixels_y 256 \
  -nonoise \
  -nointerpolate \
  > reports/2025-11-source-weights/phase_b/20251009T083515Z/py_stdout.log 2>&1

# Pytest Collection Proof
pytest --collect-only -q \
  > reports/2025-11-source-weights/phase_b/20251009T083515Z/pytest_collect.log 2>&1
